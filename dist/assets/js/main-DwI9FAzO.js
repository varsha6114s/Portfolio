(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(t){if(t.ep)return;t.ep=!0;const o=r(t);fetch(t.href,o)}})();console.log("Initializing portfolio...");let h,m,u,s;const f=2e3;function L(){const i=document.getElementById("theme-toggle"),e=document.body,r=window.matchMedia("(prefers-color-scheme: dark)");function n(o){if(o?(e.classList.add("dark"),document.documentElement.style.colorScheme="dark",document.documentElement.setAttribute("data-theme","dark")):(e.classList.remove("dark"),document.documentElement.style.colorScheme="light",document.documentElement.setAttribute("data-theme","light")),s){const c=s.geometry.attributes.color.array,a=new THREE.Color;for(let l=0;l<f;l++){const d=l*3;o?a.setHSL(.7+Math.random()*.2,.9,.6+Math.random()*.3):a.setHSL(.8+Math.random()*.2,.9,.5+Math.random()*.3),c[d]=a.r,c[d+1]=a.g,c[d+2]=a.b}s.geometry.attributes.color.needsUpdate=!0}}const t=localStorage.getItem("theme");n(t?t==="dark":r.matches),i&&i.addEventListener("click",()=>{const o=e.classList.contains("dark");n(!o),localStorage.setItem("theme",o?"light":"dark")}),r.addEventListener("change",o=>{localStorage.getItem("theme")||n(o.matches)})}function y(){console.log("Setting up Three.js..."),h=new THREE.Scene,m=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),m.position.z=30;const i=document.getElementById("particle-canvas");if(!i){console.error("Canvas not found!");return}u=new THREE.WebGLRenderer({canvas:i,alpha:!0,antialias:!0}),u.setSize(window.innerWidth,window.innerHeight),u.setPixelRatio(Math.min(window.devicePixelRatio,2)),u.setClearColor(0,0),b();const e=new THREE.AmbientLight(16777215,1);h.add(e);const r=new THREE.PointLight(16777215,2);r.position.set(10,10,10),h.add(r),window.addEventListener("resize",()=>{m.aspect=window.innerWidth/window.innerHeight,m.updateProjectionMatrix(),u.setSize(window.innerWidth,window.innerHeight)}),document.addEventListener("mousemove",n=>{const t=n.clientX/window.innerWidth*2-1,o=-(n.clientY/window.innerHeight)*2+1;s&&gsap.to(s.rotation,{x:o*.3,y:t*.3,duration:2,ease:"power2.out"})}),w()}document.addEventListener("DOMContentLoaded",()=>{if(console.log("DOM loaded, initializing..."),typeof gsap>"u"){console.error("GSAP not loaded!");return}L(),y(),M(),v()});function b(){console.log("Creating particles...");const i=new THREE.BufferGeometry,e=new Float32Array(f*3),r=new Float32Array(f*3),n=new THREE.Color,t=document.body.classList.contains("dark");for(let c=0;c<f;c++){const a=c*3,l=15+Math.random()*15,d=Math.random()*Math.PI*4,g=Math.acos(Math.random()*2-1),p=(Math.random()-.5)*8,E=Math.sin(d*2)*3;e[a]=l*Math.sin(g)*Math.cos(d)+p+E,e[a+1]=l*Math.sin(g)*Math.sin(d)+p,e[a+2]=l*Math.cos(g)+p,t?n.setHSL(.7+Math.random()*.2,.9,.6+Math.random()*.3):n.setHSL(.8+Math.random()*.2,.9,.5+Math.random()*.3),r[a]=n.r,r[a+1]=n.g,r[a+2]=n.b}i.setAttribute("position",new THREE.BufferAttribute(e,3)),i.setAttribute("color",new THREE.BufferAttribute(r,3));const o=new THREE.PointsMaterial({size:.4,vertexColors:!0,transparent:!0,opacity:.9,blending:THREE.AdditiveBlending,sizeAttenuation:!0});s=new THREE.Points(i,o),h.add(s),console.log("Particles created and added to scene")}function w(){if(requestAnimationFrame(w),s){s.rotation.x+=3e-4,s.rotation.y+=3e-4;const i=Date.now()*.001;s.position.y=Math.sin(i*.3)*.8,s.position.x=Math.cos(i*.2)*.5;const e=1+Math.sin(i*.5)*.05;s.scale.set(e,e,e)}u.render(h,m)}function M(){console.log("Setting up mobile menu...");const i=document.querySelector(".md\\:hidden"),e=document.querySelector(".hidden.md\\:flex");i&&e&&i.addEventListener("click",()=>{e.classList.toggle("hidden"),e.classList.toggle("flex"),e.classList.toggle("flex-col"),e.classList.toggle("absolute"),e.classList.toggle("top-16"),e.classList.toggle("left-0"),e.classList.toggle("right-0"),e.classList.toggle("bg-white"),e.classList.toggle("dark:bg-dark-gray"),e.classList.toggle("p-4")}),console.log("Mobile menu setup complete")}function v(){console.log("Setting up smooth scroll..."),document.querySelectorAll('a[href^="#"]').forEach(i=>{i.addEventListener("click",function(e){e.preventDefault();const r=this.getAttribute("href"),n=document.querySelector(r);n&&(n.scrollIntoView({behavior:"smooth",block:"start"}),document.querySelectorAll(".nav-link").forEach(t=>{t.classList.remove("active")}),this.classList.add("active"))})}),console.log("Smooth scroll setup complete")}const S=new MutationObserver(i=>{i.forEach(e=>{if(e.attributeName==="class"&&s){const r=s.geometry.attributes.color.array,n=new THREE.Color;for(let t=0;t<f;t++){const o=t*3;document.body.classList.contains("dark")?n.setHSL(.7+Math.random()*.2,.9,.6+Math.random()*.3):n.setHSL(.8+Math.random()*.2,.9,.5+Math.random()*.3),r[o]=n.r,r[o+1]=n.g,r[o+2]=n.b}s.geometry.attributes.color.needsUpdate=!0}})});S.observe(document.body,{attributes:!0});
