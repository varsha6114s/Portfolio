(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function s(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(t){if(t.ep)return;t.ep=!0;const r=s(t);fetch(t.href,r)}})();console.log("Initializing portfolio...");let u,a,d,i;const m=2e3;document.addEventListener("DOMContentLoaded",()=>{console.log("Initializing..."),f(),p(),w(),b()});function f(){console.log("Setting up Three.js..."),u=new THREE.Scene,a=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),a.position.z=30;const n=document.getElementById("particle-canvas");if(!n){console.error("Canvas not found!");return}d=new THREE.WebGLRenderer({canvas:n,alpha:!0,antialias:!0}),d.setSize(window.innerWidth,window.innerHeight),d.setPixelRatio(Math.min(window.devicePixelRatio,2)),h();const e=new THREE.AmbientLight(16777215,.5);u.add(e);const s=new THREE.PointLight(16777215,1);s.position.set(10,10,10),u.add(s),window.addEventListener("resize",()=>{a.aspect=window.innerWidth/window.innerHeight,a.updateProjectionMatrix(),d.setSize(window.innerWidth,window.innerHeight)}),document.addEventListener("mousemove",o=>{const t=o.clientX/window.innerWidth*2-1,r=-(o.clientY/window.innerHeight)*2+1;i&&gsap.to(i.rotation,{x:r*.1,y:t*.1,duration:2})}),console.log("Three.js setup complete"),g()}function h(){const n=new THREE.BufferGeometry,e=new Float32Array(m*3),s=new Float32Array(m*3),o=new THREE.Color,t=document.body.classList.contains("dark");for(let c=0;c<m;c++){const l=c*3;e[l]=(Math.random()-.5)*50,e[l+1]=(Math.random()-.5)*50,e[l+2]=(Math.random()-.5)*50,t?o.setHSL(.6,.8,.5+Math.random()*.2):o.setHSL(.6,.8,.3+Math.random()*.2),s[l]=o.r,s[l+1]=o.g,s[l+2]=o.b}n.setAttribute("position",new THREE.BufferAttribute(e,3)),n.setAttribute("color",new THREE.BufferAttribute(s,3));const r=new THREE.PointsMaterial({size:.1,vertexColors:!0,transparent:!0,opacity:.8});i=new THREE.Points(n,r),u.add(i)}function g(){requestAnimationFrame(g),i&&(i.rotation.x+=5e-4,i.rotation.y+=5e-4),d.render(u,a)}function p(){console.log("Setting up theme toggle...");const n=document.getElementById("theme-toggle"),e=n.querySelector(".fa-sun"),s=n.querySelector(".fa-moon"),o=localStorage.getItem("theme");o==="dark"||!o&&window.matchMedia("(prefers-color-scheme: dark)").matches?(document.body.classList.add("dark"),e.style.display="none",s.style.display="block"):(document.body.classList.remove("dark"),e.style.display="block",s.style.display="none"),n.addEventListener("click",()=>{const t=document.body.classList.toggle("dark");localStorage.setItem("theme",t?"dark":"light"),e.style.display=t?"none":"block",s.style.display=t?"block":"none",y()}),console.log("Theme toggle setup complete")}function y(){if(!i)return;const n=i.geometry.attributes.color.array,e=new THREE.Color,s=document.body.classList.contains("dark");for(let o=0;o<m;o++){const t=o*3;s?e.setHSL(.6,.8,.5+Math.random()*.2):e.setHSL(.6,.8,.3+Math.random()*.2),n[t]=e.r,n[t+1]=e.g,n[t+2]=e.b}i.geometry.attributes.color.needsUpdate=!0}function w(){console.log("Setting up mobile menu...");const n=document.querySelector(".md\\:hidden"),e=document.querySelector(".hidden.md\\:flex");n&&e&&n.addEventListener("click",()=>{e.classList.toggle("hidden"),e.classList.toggle("flex"),e.classList.toggle("flex-col"),e.classList.toggle("absolute"),e.classList.toggle("top-16"),e.classList.toggle("left-0"),e.classList.toggle("right-0"),e.classList.toggle("bg-white"),e.classList.toggle("dark:bg-dark-gray"),e.classList.toggle("p-4")}),console.log("Mobile menu setup complete")}function b(){console.log("Setting up smooth scroll..."),document.querySelectorAll('a[href^="#"]').forEach(n=>{n.addEventListener("click",function(e){e.preventDefault();const s=this.getAttribute("href"),o=document.querySelector(s);o&&(o.scrollIntoView({behavior:"smooth",block:"start"}),document.querySelectorAll(".nav-link").forEach(t=>{t.classList.remove("active")}),this.classList.add("active"))})}),console.log("Smooth scroll setup complete")}const L=new MutationObserver(n=>{n.forEach(e=>{if(e.attributeName==="class"&&i){const s=i.geometry.attributes.color.array,o=new THREE.Color;for(let t=0;t<m;t++){const r=t*3;document.body.classList.contains("dark")?o.setHSL(.6,.8,.5+Math.random()*.2):o.setHSL(.6,.8,.3+Math.random()*.2),s[r]=o.r,s[r+1]=o.g,s[r+2]=o.b}i.geometry.attributes.color.needsUpdate=!0}})});L.observe(document.body,{attributes:!0});
